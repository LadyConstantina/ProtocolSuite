version: "3"
services:
  follower1:
    build: follower1
    ports:
      - 4000:4000
      - "9004:9004/tcp"
      - "9005:9005/tcp"
      - "7000:7000/tcp"
      - "4444:4444/udp"
  follower2:
    build: follower2
    ports:
      - 5001:5001
      - "9003:9003/tcp"
      - "9002:9002/tcp"
      - "7001:7000/tcp"
      - "4442:4444/udp"
  leader:
    build: leader
    ports:
      - 3000:3000
      - "9001:9001/tcp"
      - "9000:9000/tcp"
      - "7002:7000/tcp"
      - "4443:4444/udp"
